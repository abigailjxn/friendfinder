<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <!-- LINK TO UI KIT CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.24/css/uikit.min.css"
    />
    <link rel="stylesheet" href="./assets/style.css" />
    <title>Survey</title>
  </head>


  <body>
        <div class="uk-width-1-1">
            <div class="uk-flex uk-flex-center uk-flex-middle uk-background-cover uk-light uk-position-relative" data-src="../../assets/onepiece.jpg" uk-img>
                <h1 class="uk-heading-primary uk-text-center" style="margin-top: .5em">The Power of Friendship</h1>
            </div>
        </div>

    <hr class="uk-divider-icon">

    <div class="uk-container uk-width-1-1 uk-flex-center" uk-grid>
       
        <form class="uk-grid-large uk-child-width-expand@s uk-flex-center uk-text-center" uk-grid>

           <div>
                <div class="uk-form-label">Name (required)</div>
                <input id="name" class="uk-input" type="text" placeholder="Name">
            </div>
                <div>
                <div class="uk-form-label">Photo (required)</div>
                <input id="photo" class="uk-input" type="text" placeholder="Link to Photo">
                </div>
       
    <div class="uk-container uk-flex-center uk-width-1-1" uk grid>
        <div class="uk-margin">
            <div class="uk-form-label">Q1 You would rather be deeply known by a few than well-liked known by many.</div>
            <div  class="uk-form-controls uk-button-group uk-grid-small" data-uk-button-radio>
              <label><input  class="uk-radio" type="radio" name="q1" value="1"/> 1 (Strongly Disagree)</label>
              <label><input class="uk-radio" type="radio" name="q1" value="2"/> 2</label>
              <label><input  class="uk-radio" type="radio" name="q1" value="3"/> 3</label>
              <label><input class="uk-radio" type="radio" name="q1" value="4"/> 4</label>
              <label><input class="uk-radio" type="radio" name="q1" value="5"/> 5 (Strongly Agree)</label>
        </div>
        </div>
        <div class="uk-margin">
                <div class="uk-form-label">Q2 It's better to be imfamous than forgotten.</div>
                <div id="q2" class="uk-form-controls uk-button-group uk-grid-small" data-uk-button-radio>
                  <label><input class="uk-radio" type="radio" name="q2" value="1"/> 1 (Strongly Disagree)</label><br/>
                  <label><input class="uk-radio" type="radio" name="q2" value="2"/> 2</label>
                  <label><input  class="uk-radio" type="radio" name="q2" value="3"/> 3</label>
                  <label><input class="uk-radio" type="radio" name="q2" value="4"/> 4</label>
                  <label><input class="uk-radio" type="radio" name="q2" value="5"/> 5 (Strongly Agree)</label>
                </div>
        </div>
        <div class="uk-margin">
                <div class="uk-form-label">Q3 You're comfortable with depending on others and asking for help when you need it.</div>
                <div id="q3" class="uk-form-controls uk-button-group uk-grid-small" data-uk-button-radio>
                  <label><input class="uk-radio" type="radio" name="q3" value="1"/> 1 (Strongly Disagree)</label><br/>
                  <label><input class="uk-radio" type="radio" name="q3" value="2"/> 2</label>
                  <label><input  class="uk-radio" type="radio" name="q3" value="3"/> 3</label>
                  <label><input class="uk-radio" type="radio" name="q3" value="4"/> 4</label>
                  <label><input class="uk-radio" type="radio" name="q3" value="5"/> 5 (Strongly Agree)</label>
                </div>
        </div>
        <div class="uk-margin">
                <div class="uk-form-label">Q4 You're open to new ideas and experiences.</div>
                <div class="uk-form-controls uk-button-group uk-grid-small" data-uk-button-radio>
                  <label><input class="uk-radio" type="radio" name="q4" value="1"/> 1 (Strongly Disagree)</label><br/>
                  <label><input class="uk-radio" type="radio" name="q4" value="2"/> 2</label>
                  <label><input  class="uk-radio" type="radio" name="q4" value="3"/> 3</label>
                  <label><input class="uk-radio" type="radio" name="q4" value="4"/> 4</label>
                  <label><input class="uk-radio" type="radio" name="q4" value="5"/> 5 (Strongly Agree)</label>
                </div>
        </div>
        <div class="uk-margin">
                <div class="uk-form-label">Q5 You like creating, making, or building things.</div>
                <div class="uk-form-controls uk-button-group uk-grid-small" data-uk-button-radio>
                  <label><input class="uk-radio" type="radio" name="q5" value="1"/> 1 (Strongly Disagree)</label><br/>
                  <label><input class="uk-radio" type="radio" name="q5" value="2"/> 2</label>
                  <label><input  class="uk-radio" type="radio" name="q5" value="3"/> 3</label>
                  <label><input class="uk-radio" type="radio" name="q5" value="4"/> 4</label>
                  <label><input class="uk-radio" type="radio" name="q5" value="5"/> 5 (Strongly Agree)</label>
                </div>
        </div>
        <div class="uk-margin">
                <div class="uk-form-label">Q6 You gravitate towards embodied experiences: running, dancing, exercising, moving.</div>
                <div class="uk-form-controls uk-button-group uk-grid-small" data-uk-button-radio>
                  <label><input class="uk-radio" type="radio" name="q6" value="1"/> 1 (Strongly Disagree)</label><br/>
                  <label><input class="uk-radio" type="radio" name="q6" value="2"/> 2</label>
                  <label><input  class="uk-radio" type="radio" name="q6" value="3"/> 3</label>
                  <label><input class="uk-radio" type="radio" name="q6" value="4"/> 4</label>
                  <label><input class="uk-radio" type="radio" name="q6" value="5"/> 5 (Strongly Agree)</label>
                </div>
        </div>
        <div class="uk-margin">
                <div class="uk-form-label">Q7 You would be content sitting in silence reading, drawing, writing, etc. with a friend for hours at a time.</div>
                <div class="uk-form-controls uk-button-group uk-grid-small" data-uk-button-radio>
                  <label><input class="uk-radio" type="radio" name="q7" value="1"/> 1 (Strongly Disagree)</label><br/>
                  <label><input class="uk-radio" type="radio" name="q7" value="2"/> 2</label>
                  <label><input  class="uk-radio" type="radio" name="q7" value="3"/> 3</label>
                  <label><input class="uk-radio" type="radio" name="q7" value="4"/> 4</label>
                  <label><input class="uk-radio" type="radio" name="q7" value="5"/> 5 (Strongly Agree)</label>
                </div>
        </div>
        <div class="uk-margin">
                <div class="uk-form-label">Q8 If you stop growing, learning, or evolving as a person, you seek to take those steps again.</div>
                <div class="uk-form-controls uk-button-group uk-grid-small" data-uk-button-radio>
                  <label><input class="uk-radio" type="radio" name="q8" value="1"/> 1 (Strongly Disagree)</label><br/>
                  <label><input class="uk-radio" type="radio" name="q8" value="2"/> 2</label>
                  <label><input  class="uk-radio" type="radio" name="q8" value="3"/> 3</label>
                  <label><input class="uk-radio" type="radio" name="q8" value="4"/> 4</label>
                  <label><input class="uk-radio" type="radio" name="q8" value="5"/> 5 (Strongly Agree)</label>
                </div>
        </div>
        <div class="uk-margin">
                <div class="uk-form-label">Q9 You often worry about what people think of you.</div>
                <div class="uk-form-controls uk-button-group uk-grid-small" data-uk-button-radio>
                  <label><input class="uk-radio" type="radio" name="q9" value="1"/> 1 (Strongly Disagree)</label><br/>
                  <label><input class="uk-radio" type="radio" name="q9" value="2"/> 2</label>
                  <label><input  class="uk-radio" type="radio" name="q9" value="3"/> 3</label>
                  <label><input class="uk-radio" type="radio" name="q9" value="4"/> 4</label>
                  <label><input class="uk-radio" type="radio" name="q9" value="5"/> 5 (Strongly Agree)</label>
                </div>
        </div>
        <div class="uk-margin">
                <div class="uk-form-label">Q10 If you knew your friends believed in you, you could do anything.</div>
                <div class="uk-form-controls uk-button-group uk-grid-small" data-uk-button-radio>
                  <label><input class="uk-radio" type="radio" name="q10" value="1"/> 1 (Strongly Disagree)</label><br/>
                  <label><input class="uk-radio" type="radio" name="q10" value="2"/> 2</label>
                  <label><input  class="uk-radio" type="radio" name="q10" value="3"/> 3</label>
                  <label><input class="uk-radio" type="radio" name="q10" value="4"/> 4</label>
                  <label><input class="uk-radio" type="radio" name="q10" value="5"/> 5 (Strongly Agree)</label>
                </div>
        </div>
        <!-- SUBMIT BUTTON -->
        <a ><button id="submit" class="uk-button uk-button-secondary" style="margin-bottom: 2em" uk-toggle="target: #friendmatch-modal">Submit</button></a>
        <!-- RETURN TO HOME -->
        <a href="./home.html"><button style="margin-bottom: 2em" class="uk-button uk-button-default" type="button">Return</button></a>
      </div>
     
      </form>
    </div>

    <!-- MODAL -->
    <div id="friendmatch-modal" uk-modal>
            <div class="uk-modal-dialog uk-modal-body uk-text-center">
                <h2 class="uk-modal-title">Your Match is: <div id="modal-name">Name</div></h2>
                <img id="modal-photo">
                <p>Say hi to your new friend! </p>
                <p class="uk-text-right">
                    <button class="uk-button uk-button-default uk-modal-close" type="button">Close</button>
                    <a href="./home.html"><button class="uk-button uk-button-secondary" type="button">Return</button></a>
                </p>
            </div>
        </div>

    <!-- LINK TO JQUERY -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <!-- LINK TO UI KIT JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.24/js/uikit.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.24/js/uikit-icons.min.js"></script>
    <script>
     $("#submit").on("click", function(event){
         event.preventDefault();
        
         let newFriend = {
             name: $("#name").val().trim(),
             photo: $("#photo").val().trim(),
             scores: [
                +$('input[name=q1]:checked').val(),
                +$('input[name=q2]:checked').val(),
                +$('input[name=q3]:checked').val(),
                +$('input[name=q4]:checked').val(),
                +$('input[name=q5]:checked').val(),
                +$('input[name=q6]:checked').val(),
                +$('input[name=q7]:checked').val(),
                +$('input[name=q8]:checked').val(),
                +$('input[name=q9]:checked').val(),
                +$('input[name=q10]:checked').val(),
               
            ]
         }
         console.log(newFriend);

         $.post("/api/friends", newFriend, function(data){
             let matchName = data.friendMatch.name;
             let matchPhoto = data.friendMatch.photo;
             $("#modal-name").text(matchName);
             $("#modal-photo").attr("src", matchPhoto);
           
             console.log(data);
         });
     })
    </script>
  </body>
</html>
